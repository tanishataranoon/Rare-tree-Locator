{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rare Tree Locator | Tree Gallery</title>

  <!-- Tailwind (optional, can keep for utility classes) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- External CSS -->
  <link rel="stylesheet" href="{% static 'CSS/Trees/TreeProfiles.css' %}">
</head>

<body>
  {% include 'Common/header.html' %}

  <div class="gallery-container">
    <!-- Gallery Header -->
    <div class="gallery-header mb-6">
      <h1>🌴 Explore the Rare Trees of Dhaka</h1>
      <p>A curated gallery of unique and endangered trees shared by our contributors</p>
    </div>
    <div class="search-bar-container mb-6">
      <input type="text" id="treeSearch" placeholder="Search trees by name, location, or type..." class="search-input">
        <button id="searchBtn">Search</button>
    </div>

    <!-- Grid of Tree Cards -->
    <div class="grid-container">
      {% for tree in TreeProfiles %}
      <div class="card relative">
        {% if tree.photos.first %}
          <div class="card-image">
            <img src="{{ tree.photos.first.image.url }}" alt="{{ tree.street_name }}">
          </div>
        {% else %}
          <div class="card-image">
            <img src="{% static 'images/placeholder_tree.jpg' %}" alt="Tree Image">
          </div>
        {% endif %}

        {% if tree.rarity_status %}
          <span class="badge">{{ tree.rarity_status }}</span>
        {% endif %}

        <div class="card-content">
          <h3>{{ tree.street_name }}</h3>
          <p>{{ tree.scientific_name }}</p>
          <div class="meta">
            <span>📍 {{ tree.location|default:"Unknown" }}</span>
            <span>📅 {{ tree.created_at|date:"M d, Y" }}</span>
          </div>
          <a href="{% url 'tree_detail' tree.id %}" class="view-details-btn">
            View Details
          </a>
        </div>
      </div>
      {% empty %}
      <p class="col-span-full text-center">No trees found yet. 🌿 Be the first to contribute!</p>
      {% endfor %}
    </div>
  </div>

  {% include 'Common/footer.html' %}

  <!-- External JS -->
  <script src="{% static 'JS/Trees/TreeProfiles.js' %}"></script>

</body>

</html>
